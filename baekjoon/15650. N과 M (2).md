> 풀이 날짜 : 2026.01.21  
> 문제 유형 : 백트래킹(조합)  
> 문제 제목 : 15650. N과 M (2)  
> 문제 링크 : https://www.acmicpc.net/problem/15650

<br>

### Intuition

---

<!--
- 제약 조건
- 단순 접근의 한계
- 필요한 성질 (시간/공간/구조)
- 선택한 해법
-->

- 문제 요구사항
  - 1부터 N까지의 자연수 중 M개를 선택한 모든 조합을 출력해야 한다. (중복 X, 오름차순)

- 단순히 모든 수열을 생성하면 중복과 순서 문제가 발생한다.
  - 오름차순 조합이라는 조건은 다음 숫자를 항상 이전 숫자보다 크게 선택하면 해결할 수 있다.
  - 이를 위해 현재 선택 가능한 시작 값을 유지하며 재귀적으로 탐색하는 백트래킹(조합) 방식을 사용한다.

<br>

### Approach

---

<!--
- 실제로 채택한 알고리즘
- 자료구조 선택 이유
- 단계별 처리 방식
-->

- 알고리즘
  - 백트래킹 (조합)
  - 오름차순 조합을 생성하기 위해, 매 재귀 호출마다 다음에 선택 가능한 최솟값을 전달한다.

- 처리 단계
  - `dfs(start, depth)` 재귀 함수를 정의한다.
    - `start`: 다음에 선택할 수 있는 최소 숫자
    - `depth`: 현재까지 선택한 숫자의 개수

  - `depth == M`이면 하나의 조합이 완성된 상태이므로 결과를 출력한다.
  - `i`를 `start`부터 `N`까지 순회한다.
    - `result[depth] = i`로 현재 숫자를 선택한다.
    - 다음 호출에서 `dfs(i + 1, depth + 1)`을 호출하여 오름차순을 유지한다.

  - 모든 경우를 탐색할 때까지 재귀를 반복한다.

<br>

### Complexity

---

- Time complexity: `O(C(N, M) * M)`
  - 조합의 수만큼 반복하며 `M`번 출력한다.

- Space complexity: `O(M)`
  - 결과 배열 및 재귀 스택의 최대 깊이가 `M`이므로 `O(M)`이다.

<br>

### Code (Java)

---

```java
import java.io.*;
import java.util.*;

class Main {

    static int N, M;
    static int[] result;
    static StringBuilder sb = new StringBuilder();

    public static void main(String[] args) throws Exception {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        result = new int[M];

        dfs(1, 0);

        System.out.print(sb);
    }

    // start: 다음에 선택할 수 있는 최소 숫자
    // depth: 현재까지 선택한 개수
    static void dfs(int start, int depth) {

        // 종료 조건: M개를 모두 선택한 경우
        if (depth == M) {
            for (int i = 0; i < M; i++) {
                sb.append(result[i]).append(" ");
            }
            sb.append("\n");
            return;
        }

        for (int i = start; i <= N; i++) {
            result[depth] = i;
            dfs(i + 1, depth + 1);
        }
    }
}
```
